{% extends 'dashboard/base.html' %} {% block title %}Hasil Rekomendasi Jurusan{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Hasil Rekomendasi Fokus Penjurusan</h2>

    {% if form_data.nama_mahasiswa %}
        <p>Untuk Mahasiswa: <strong>{{ form_data.nama_mahasiswa }}</strong>
        {% if form_data.nim %}
            (NIM: {{ form_data.nim }})
        {% endif %}
        </p>
    {% endif %}

    {% if hasil %}
        <p>Berikut adalah rekomendasi fokus penjurusan berdasarkan nilai preferensi TOPSIS:</p>
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Peringkat</th>
                    <th>Nama Fokus Penjurusan</th>
                    <th>Nilai Preferensi (V)</th>
                </tr>
            </thead>
            <tbody>
                {% for item in hasil %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ item.alternatif }}</td>
                    <td>{{ item.nilai_v|floatformat:4 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <p class="mt-3">
            <strong>Rekomendasi Utama: {{ hasil.0.alternatif }}</strong>
        </p>
    {% else %}
        <p>Tidak ada hasil rekomendasi yang dapat ditampilkan.</p>
    {% endif %}

    <a href="{% url 'rekomendasi_jurusan:input_nilai_spk' %}" class="btn btn-secondary mt-3">Kembali ke Form Input</a>
    </div>
{% endblock %}